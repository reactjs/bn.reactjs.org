---
id: hooks-rules
title: Hooks ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржирж┐рзЯржорж╛ржмрж▓рзА
permalink: docs/hooks-rules.html
next: hooks-custom.html
prev: hooks-effect.html
---

*Hooks* рж╣рж▓ React 16.8 ржПрж░ ржирждрзБржи рж╕ржВржпрзЛржЬржиред ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржХрзНрж▓рж╛рж╕ ржмрзНржпржмрж╣рж╛рж░ ржирж╛ ржХрж░рзЗржЗ state ржПржмржВ React ржПрж░ ржЕржирзНржпрж╛ржирзНржп ржлрж┐ржЪрж╛рж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕рзБржпрзЛржЧ ржХрж░рзЗ ржжрзЗрзЯред

Hooks рж╣рж▓ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржлрж╛ржВрж╢ржи, ржХрж┐ржирзНрждрзБ ржЖржкржирж╛ржХрзЗ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржорзЯ ржжрзБржЗржЯрж┐ ржирж┐рзЯржо ржорзЗржирзЗ ржЪрж▓рждрзЗ рж╣ржмрзЗред ржЖржорж░рж╛ ржПржХржЯрж┐ [linter plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ ржерж╛ржХрж┐ ржпрж╛рждрзЗ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржПржЗ ржирж┐рзЯржоржЧрзБрж▓рзЛ ржХрж╛рж░рзНржпржХрж░ рж╣рзЯржГ

### рж╢рзБржзрзБржорж╛рждрзНрж░ ржЯржк рж▓рзЗржнрзЗрж▓рзЗ Hooks ржХрж▓ ржХрж░рзБржи {#only-call-hooks-at-the-top-level}

<<<<<<< HEAD
**ржХрзЛржи рж▓рзБржк, рж╢рж░рзНржд ржмрж╛ nested ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░ Hooks ржХрж▓ ржХрж░ржмрзЗржиржирж╛ред** ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ, рж╕ржмрж╕ржорзЯ ржЖржкржирж╛рж░ React ржлрж╛ржВрж╢ржирзЗрж░ ржЯржк рж▓рзЗржнрзЗрж▓рзЗ Hooks ржХрж▓ ржХрж░рзБржиред ржПржЗ ржирж┐рзЯржо ржорзЗржирзЗ ржЪрж▓рж╛рж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗржи ржпрзЗ, ржкрзНрж░рждрж┐ржмрж╛рж░ рж░рж┐-рж░рзЗржирзНржбрж╛рж░рзЗрж░ рж╕ржорзЯ Hooks ржЧрзБрж▓рзЛ ржПржХржЗ ржХрзНрж░ржорж╛ржирзБрж╕рж╛рж░рзЗ ржХрж▓ ржХрж░рж╛ рж╣ржмрзЗред ржПржЯрж┐ ржЕржирзЗржХржЧрзБрж▓рзЛ `useState` ржПржмржВ `useEffect` ржХрж▓рзЗрж░ ржорж╛ржЭрзЗ React ржХрзЗ рж╕ржарж┐ржХржнрж╛ржмрзЗ Hooks ржЧрзБрж▓рзЛрж░ рж╕рзНржЯрзЗржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред (ржЖржкржирж┐ ржпржжрж┐ ржХрзМрждрзВрж╣рж▓рзА рж╣рзЯрзЗ ржерж╛ржХрзЗржи, ржЖржорж░рж╛ [ржирж┐ржЪрзЗ](#explanation) ржПржЯрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржЖрж░ржУ ржЧржнрзАрж░ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмред)
=======
**Don't call Hooks inside loops, conditions, or nested functions.** Instead, always use Hooks at the top level of your React function, before any early returns. By following this rule, you ensure that Hooks are called in the same order each time a component renders. That's what allows React to correctly preserve the state of Hooks between multiple `useState` and `useEffect` calls. (If you're curious, we'll explain this in depth [below](#explanation).)
>>>>>>> 9df266413be637705d78688ffdd3697e89b102d1

### рж╢рзБржзрзБржорж╛рждрзНрж░ React ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░ Hooks ржХрж▓ ржХрж░рзБржи {#only-call-hooks-from-react-functions}

**рж╕рж╛ржзрж╛рж░ржг ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░ ржерзЗржХрзЗ Hooks ржХрж▓ ржХрж░ржмрзЗржиржирж╛ред** ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржкржирж┐:

* тЬЕ React ржлрж╛ржВрж╢ржи ржХржорзНржкрзЛржирзЗржирзНржЯ ржерзЗржХрзЗ Hooks ржХрж▓ ржХрж░рзБржиред
* тЬЕ ржХрж╛рж╕рзНржЯржо Hooks ржерзЗржХрзЗ Hooks ржХрж▓ ржХрж░рзБржи (ржЖржорж░рж╛ [ржкрж░рзЗрж░ ржкрзГрж╖рзНржарж╛рзЯ](/docs/hooks-custom.html) ржПржЯрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржиржм)ред

ржПржЗ ржирж┐рзЯржо ржорзЗржирзЗ ржЪрж▓рж╛рж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗржи ржпрзЗ, ржПржХржЯрж┐ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕ржХрж▓ stateful logic рж╕рж╣ржЬрзЗржЗ ржПрж░ рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржерзЗржХрзЗ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

## ESLint Plugin {#eslint-plugin}

ржЖржорж░рж╛ [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks) ржирж╛ржорзЗрж░ ржПржХржЯрж┐ ESLint plugin ржкрзНрж░ржХрж╛рж╢ ржХрж░рзЗржЫрж┐ ржпрж╛ ржжрзБржЯрж┐ ржирж┐рзЯржо ржХрж╛рж░рзНржпржХрж░ ржХрж░рзЗред ржЖржкржирж┐ ржПржЗ plugin ржЯрж┐ ржЖржкржирж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗржиржГ

ржПржЗ pluginржЯрж┐ рж╢рзБрж░рзБ ржерзЗржХрзЗржЗ [Create React App](/docs/create-a-new-react-app.html#create-react-app) ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗ ржжрзЗрзЯрж╛ рж╣рзЯрзЗржЫрзЗред

```bash
npm install eslint-plugin-react-hooks --save-dev
```

```js
// Your ESLint configuration
{
  "plugins": [
    // ...
    "react-hooks"
  ],
  "rules": {
    // ...
    "react-hooks/rules-of-hooks": "error", // Checks rules of Hooks
    "react-hooks/exhaustive-deps": "warn" // Checks effect dependencies
  }
}
```

**ржЖржкржирж┐ ржПржЦржи ржЪрж╛ржЗрж▓рзЗ ржмрж╛ржХрж┐ржЯрж╛ ржмрж╛ржж ржжрж┐рзЯрзЗ ржкрж░рзЗрж░ ржкрзГрж╖рзНржарж╛рзЯ [ржЖржкржирж╛рж░ ржирж┐ржЬрзЗрж░ Hooks](/docs/hooks-custom.html) ржХрж┐ржнрж╛ржмрзЗ рж▓рж┐ржЦржмрзЗржи рждрж╛ ржжрзЗржЦрзЗ ржирж┐рждрзЗ ржкрж╛рж░рзЗржиред** ржПржЗ ржкрзГрж╖рзНржарж╛рзЯ, ржЖржорж░рж╛ ржПржЗ ржирж┐рзЯржоржЧрзБрж▓рзЛрж░ ржХрж╛рж░ржг ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржмред

## ржмрзНржпрж╛ржЦрзНржпрж╛ {#explanation}

ржЖржорж░рж╛ [ржЖржЧрзЗржЗ ржЬрзЗржирзЗржЫрж┐](/docs/hooks-state.html#tip-using-multiple-state-variables) ржпрзЗ, ржЖржорж░рж╛ ржПржХрж╛ржзрж┐ржХ State ржЕржержмрж╛ Effect Hooks ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рж┐ржГ

```js
function Form() {
  // 1. Use the name state variable
  const [name, setName] = useState('Mary');

  // 2. Use an effect for persisting the form
  useEffect(function persistForm() {
    localStorage.setItem('formData', name);
  });

  // 3. Use the surname state variable
  const [surname, setSurname] = useState('Poppins');

  // 4. Use an effect for updating the title
  useEffect(function updateTitle() {
    document.title = name + ' ' + surname;
  });

  // ...
}
```

рждрж╛рж╣рж▓рзЗ React ржХрж┐ржнрж╛ржмрзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржХрзЛржи state ржПрж░ рж╕рж╛ржерзЗ ржХрзЛржи `useState` ржХрж▓рзЗрж░ рж╕ржорзНржкрж░рзНржХ рж░рзЯрзЗржЫрзЗ? ржПрж░ ржЙрждрзНрждрж░ рж╣рж▓ **React Hooks ржЧрзБрж▓рзЛрж░ ржХрж▓рзЗрж░ ржХрзНрж░ржорзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ**ред ржЖржорж╛ржжрзЗрж░ ржЙржжрж╛рж╣рж░ржг ржХрж╛ржЬ ржХрж░рзЗ ржХрж╛рж░ржг Hook ржЧрзБрж▓рзЛрж░ ржХрж▓рзЗрж░ ржХрзНрж░ржо ржкрзНрж░рждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗржЗ ржПржХржЗржГ

```js
// ------------
// First render
// ------------
useState('Mary')           // 1. Initialize the name state variable with 'Mary'
useEffect(persistForm)     // 2. Add an effect for persisting the form
useState('Poppins')        // 3. Initialize the surname state variable with 'Poppins'
useEffect(updateTitle)     // 4. Add an effect for updating the title

// -------------
// Second render
// -------------
useState('Mary')           // 1. Read the name state variable (argument is ignored)
useEffect(persistForm)     // 2. Replace the effect for persisting the form
useState('Poppins')        // 3. Read the surname state variable (argument is ignored)
useEffect(updateTitle)     // 4. Replace the effect for updating the title

// ...
```

ржпрждржХрзНрж╖ржг ржкрж░рзНржпржирзНржд Hook ржЧрзБрж▓рзЛ ржХрж▓рзЗрж░ ржХрзНрж░ржо ржкрзНрж░рждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗ ржПржХржЗ ржерж╛ржХржмрзЗ, React рждрждржХрзНрж╖ржг ржкрж░рзНржпржирзНржд ржкрзНрж░рждрж┐ржЯрж┐рж░ рж╕рж╛ржерзЗ ржХрж┐ржЫрзБ local state ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред ржХрж┐ржирзНрждрзБ рждржЦржи ржХрж┐ рж╣ржмрзЗ ржпржжрж┐ ржЖржорж░рж╛ ржПржХржЯрж┐ Hook ржХрж▓ржХрзЗ ржХрзЛржи рж╢рж░рзНрждрзЗрж░ ржоржзрзНржпрзЗ(ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, `persistForm` effect ржЯрж┐) рж░рж╛ржЦрж┐?

```js
  // ЁЯФ┤ We're breaking the first rule by using a Hook in a condition
  if (name !== '') {
    useEffect(function persistForm() {
      localStorage.setItem('formData', name);
    });
  }
```

ржПржЦрж╛ржирзЗ ржкрзНрж░ржержо рж░рзЗржирзНржбрж╛рж░рзЗ `name !== ''` рж╢рж░рзНрждржЯрж┐ `true`, рждрж╛ржЗ ржЖржорж░рж╛ Hook ржЯрж┐ ржХрж▓ ржХрж░ржмред ржХрж┐ржирзНрждрзБ ржкрж░ржмрж░рзНрждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗ ржЗржЙржЬрж╛рж░ ржлрж░рзНржоржЯрж┐ ржЦрж╛рж▓рж┐ ржХрж░рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рзЗ, ржПрждрзЗ рж╢рж░рзНрждржЯрж┐ `false` рж╣рзЯрзЗ ржпрж╛ржмрзЗред ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржЖржорж░рж╛ рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржПрж░ рж╕ржорзЯ ржПржЗ Hook ржЯрж┐ ржмрж╛ржж ржжрж┐рзЯрзЗ ржпрж╛ржЗ, Hook ржХрж▓ ржХрж░рж╛рж░ ржХрзНрж░ржо ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рзЯрзЗ ржпрж╛рзЯржГ

```js
useState('Mary')           // 1. Read the name state variable (argument is ignored)
// useEffect(persistForm)  // ЁЯФ┤ This Hook was skipped!
useState('Poppins')        // ЁЯФ┤ 2 (but was 3). Fail to read the surname state variable
useEffect(updateTitle)     // ЁЯФ┤ 3 (but was 4). Fail to replace the effect
```

React ржжрзНржмрж┐рждрзАрзЯ `useState` Hook ржХрж▓рзЗрж░ ржЬржирзНржп ржХрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗржирж╛ред React ржЖрж╢рж╛ ржХрж░ржЫрж┐рж▓ ржПржЗ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░  ржжрзНржмрж┐рждрзАрзЯ Hook ржХрж▓ ржпрж╛рждрзЗ `persistForm` effect ржПрж░ рж╕рж╛ржерзЗ рж╕ржЩрзНржЧрждрж┐ржкрзВрж░рзНржг рж╣рзЯ, ржарж┐ржХ ржПрж░ ржкрзВрж░рзНржмржмрж░рзНрждрж┐ рж░рзЗржирзНржбрж╛рж░рзЗрж░ ржоржд, ржХрж┐ржирзНрждрзБ ржПржЦржи ржПрж░рж╛ ржЖрж░ рж╕ржЩрзНржЧрждрж┐ржкрзВрж░рзНржг ржирзЯред ржПрж░ ржкрж░ ржерзЗржХрзЗ, ржЖржорж╛ржжрзЗрж░ ржмрж╛ржж ржжрзЗрзЯрж╛ ржкрзНрж░рждрж┐ржЯрж┐ Hook ржХрж▓ржУ ржПржХ ржзрж╛ржк рж╕рж░рзЗ ржпрж╛ржмрзЗ, ржпрж╛ ржкрж░ржмрж░рзНрждрж┐рждрзЗ bug рж╕рзГрж╖рзНржЯрж┐ ржХрж░ржмрзЗред

**ржПржЗ ржЬржирзНржпржЗ Hooks ржЧрзБрж▓рзЛ рж╕ржмрж╕ржорзЯ ржЖржорж╛ржжрзЗрж░ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ рж╕рж░рзНржмрзЛржЪрзНржЪ рж╕рзНрждрж░рзЗ ржХрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред** ржЖржорж░рж╛ ржпржжрж┐ ржХрзЛржи effect рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖рзЗ рж░рж╛ржи ржХрж░рж╛рждрзЗ ржЪрж╛ржЗ, ржЖржорж░рж╛ ржР рж╢рж░рзНржд ржЖржорж╛ржжрзЗрж░ Hook ржПрж░ *ржнрзЗрждрж░рзЗ* рж░рж╛ржЦрждрзЗ ржкрж╛рж░рж┐ржГ

```js
  useEffect(function persistForm() {
    // ЁЯСН We're not breaking the first rule anymore
    if (name !== '') {
      localStorage.setItem('formData', name);
    }
  });
```

**ржЙрж▓рзНрж▓рзЗржЦрзНржп ржпрзЗ ржЖржкржирж┐ ржпржжрж┐ ржЖржорж╛ржжрзЗрж░ [ржжрзЗрзЯрж╛ lint rule](https://www.npmjs.com/package/eslint-plugin-react-hooks) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржерж╛ржХрзЗржи рждрж╛рж╣рж▓рзЗ ржЖржкржирж╛рж░ ржПржЯрж┐ ржирж┐рзЯрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред** ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржПржЦржи ржЬрж╛ржирзЗржи Hooks ржЧрзБрж▓рзЛ *ржХрзЗржи* ржПржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржПржмржВ ржХрзЛржи рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ ржПржЗ ржирж┐рзЯржо ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░рзЗред

## ржкрж░ржмрж░рзНрждрж┐ ржзрж╛ржкрж╕ржорзВрж╣ {#next-steps}

рж╕ржмрж╢рзЗрж╖рзЗ, ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ [ржирж┐ржЬрзЗржжрзЗрж░ Hooks рж▓рзЗржЦрж╛](/docs/hooks-custom.html) рж╢рзЗржЦрж╛рж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд! ржХрж╛рж╕рзНржЯржо Hooks ржЖржорж╛ржжрзЗрж░ржХрзЗ React ржжрзНржмрж╛рж░рж╛ рж╕рж░ржмрж░рж╛рж╣ржХрзГржд Hooks ржЧрзБрж▓рзЛрж░ рж╕рж╛ржерзЗ ржЖржорж╛ржжрзЗрж░ ржирж┐ржЬрзЗрж░ abstraction ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рж┐ржд ржХрж░рзЗ ржнрж┐ржирзНржи ржнрж┐ржирзНржи ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржорж╛ржЭрзЗ рж╕рж╛ржзрж╛рж░ржг stateful logic ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ рж╕рзБржпрзЛржЧ ржХрж░рзЗ ржжрзЗрзЯред
